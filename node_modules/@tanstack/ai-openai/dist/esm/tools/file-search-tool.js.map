{"version":3,"file":"file-search-tool.js","sources":["../../../src/tools/file-search-tool.ts"],"sourcesContent":["import type OpenAI from 'openai'\nimport type { Tool } from '@tanstack/ai'\n\nconst validateMaxNumResults = (maxNumResults: number | undefined) => {\n  if (maxNumResults && (maxNumResults < 1 || maxNumResults > 50)) {\n    throw new Error('max_num_results must be between 1 and 50.')\n  }\n}\n\nexport type FileSearchTool = OpenAI.Responses.FileSearchTool\n\n/**\n * Converts a standard Tool to OpenAI FileSearchTool format\n */\nexport function convertFileSearchToolToAdapterFormat(\n  tool: Tool,\n): OpenAI.Responses.FileSearchTool {\n  const metadata = tool.metadata as OpenAI.Responses.FileSearchTool\n  return {\n    type: 'file_search',\n    vector_store_ids: metadata.vector_store_ids,\n    max_num_results: metadata.max_num_results,\n    ranking_options: metadata.ranking_options,\n    filters: metadata.filters,\n  }\n}\n\n/**\n * Creates a standard Tool from FileSearchTool parameters\n */\nexport function fileSearchTool(\n  toolData: OpenAI.Responses.FileSearchTool,\n): Tool {\n  validateMaxNumResults(toolData.max_num_results)\n  return {\n    name: 'file_search',\n    description: 'Search files in vector stores',\n    metadata: {\n      ...toolData,\n    },\n  }\n}\n"],"names":[],"mappings":"AAcO,SAAS,qCACd,MACiC;AACjC,QAAM,WAAW,KAAK;AACtB,SAAO;AAAA,IACL,MAAM;AAAA,IACN,kBAAkB,SAAS;AAAA,IAC3B,iBAAiB,SAAS;AAAA,IAC1B,iBAAiB,SAAS;AAAA,IAC1B,SAAS,SAAS;AAAA,EAAA;AAEtB;"}