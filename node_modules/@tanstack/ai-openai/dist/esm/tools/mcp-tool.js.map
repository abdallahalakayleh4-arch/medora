{"version":3,"file":"mcp-tool.js","sources":["../../../src/tools/mcp-tool.ts"],"sourcesContent":["import type OpenAI from 'openai'\nimport type { Tool } from '@tanstack/ai'\n\nexport type MCPTool = OpenAI.Responses.Tool.Mcp\n\nexport function validateMCPtool(tool: MCPTool) {\n  if (!tool.server_url && !tool.connector_id) {\n    throw new Error('Either server_url or connector_id must be provided.')\n  }\n  if (tool.connector_id && tool.server_url) {\n    throw new Error('Only one of server_url or connector_id can be provided.')\n  }\n}\n\n/**\n * Converts a standard Tool to OpenAI MCPTool format\n */\nexport function convertMCPToolToAdapterFormat(tool: Tool): MCPTool {\n  const metadata = tool.metadata as Omit<MCPTool, 'type'>\n\n  const mcpTool: MCPTool = {\n    type: 'mcp',\n    ...metadata,\n  }\n\n  validateMCPtool(mcpTool)\n  return mcpTool\n}\n\n/**\n * Creates a standard Tool from MCPTool parameters\n */\nexport function mcpTool(toolData: Omit<MCPTool, 'type'>): Tool {\n  validateMCPtool({ ...toolData, type: 'mcp' })\n\n  return {\n    name: 'mcp',\n    description: toolData.server_description || '',\n    metadata: toolData,\n  }\n}\n"],"names":["mcpTool"],"mappings":"AAKO,SAAS,gBAAgB,MAAe;AAC7C,MAAI,CAAC,KAAK,cAAc,CAAC,KAAK,cAAc;AAC1C,UAAM,IAAI,MAAM,qDAAqD;AAAA,EACvE;AACA,MAAI,KAAK,gBAAgB,KAAK,YAAY;AACxC,UAAM,IAAI,MAAM,yDAAyD;AAAA,EAC3E;AACF;AAKO,SAAS,8BAA8B,MAAqB;AACjE,QAAM,WAAW,KAAK;AAEtB,QAAMA,WAAmB;AAAA,IACvB,MAAM;AAAA,IACN,GAAG;AAAA,EAAA;AAGL,kBAAgBA,QAAO;AACvB,SAAOA;AACT;"}