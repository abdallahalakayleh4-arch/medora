{"version":3,"file":"video-provider-options.js","sources":["../../../src/video/video-provider-options.ts"],"sourcesContent":["/**\n * OpenAI Video Generation Provider Options\n *\n * Based on https://platform.openai.com/docs/api-reference/videos/create\n *\n * @experimental Video generation is an experimental feature and may change.\n */\n\n/**\n * Supported video sizes for OpenAI Sora video generation.\n * Based on the official API documentation.\n *\n * @experimental Video generation is an experimental feature and may change.\n */\nexport type OpenAIVideoSize =\n  | '1280x720' // 720p landscape (16:9)\n  | '720x1280' // 720p portrait (9:16)\n  | '1792x1024' // Landscape wide\n  | '1024x1792' // Portrait tall\n\n/**\n * Supported video durations (in seconds) for OpenAI Sora video generation.\n * The API uses the `seconds` parameter with STRING values '4', '8', or '12'.\n * Yes, really. They're strings.\n *\n * @experimental Video generation is an experimental feature and may change.\n */\nexport type OpenAIVideoSeconds = '4' | '8' | '12'\n\n/**\n * Provider-specific options for OpenAI video generation.\n *\n * @experimental Video generation is an experimental feature and may change.\n */\nexport interface OpenAIVideoProviderOptions {\n  /**\n   * Video size in WIDTHxHEIGHT format.\n   * Supported: '1280x720', '720x1280', '1792x1024', '1024x1792'\n   */\n  size?: OpenAIVideoSize\n\n  /**\n   * Video duration in seconds.\n   * Supported values: 4, 8, or 12 seconds.\n   */\n  seconds?: OpenAIVideoSeconds\n}\n\n/**\n * Model-specific provider options mapping.\n *\n * @experimental Video generation is an experimental feature and may change.\n */\nexport type OpenAIVideoModelProviderOptionsByName = {\n  'sora-2': OpenAIVideoProviderOptions\n  'sora-2-pro': OpenAIVideoProviderOptions\n}\n\n/**\n * Validate video size for a given model.\n *\n * @experimental Video generation is an experimental feature and may change.\n */\nexport function validateVideoSize(\n  model: string,\n  size?: string,\n): asserts size is OpenAIVideoSize | undefined {\n  const validSizes: Array<OpenAIVideoSize> = [\n    '1280x720',\n    '720x1280',\n    '1792x1024',\n    '1024x1792',\n  ]\n\n  if (size && !validSizes.includes(size as OpenAIVideoSize)) {\n    throw new Error(\n      `Size \"${size}\" is not supported by model \"${model}\". Supported sizes: ${validSizes.join(', ')}`,\n    )\n  }\n}\n\n/**\n * Validate video duration (seconds) for a given model.\n * Accepts both string and number for convenience, but the API requires strings.\n *\n * @experimental Video generation is an experimental feature and may change.\n */\nexport function validateVideoSeconds(\n  model: string,\n  seconds?: number | string,\n): asserts seconds is OpenAIVideoSeconds | number | undefined {\n  const validSeconds: Array<string> = ['4', '8', '12']\n  const validNumbers: Array<number> = [4, 8, 12]\n\n  if (seconds !== undefined) {\n    const isValid =\n      typeof seconds === 'string'\n        ? validSeconds.includes(seconds)\n        : validNumbers.includes(seconds)\n\n    if (!isValid) {\n      throw new Error(\n        `Duration \"${seconds}\" is not supported by model \"${model}\". Supported durations: 4, 8, or 12 seconds`,\n      )\n    }\n  }\n}\n\n/**\n * Convert duration to API format (string).\n * The OpenAI Sora API inexplicably requires seconds as a string.\n */\nexport function toApiSeconds(\n  seconds: number | string | undefined,\n): OpenAIVideoSeconds | undefined {\n  if (seconds === undefined) return undefined\n  return String(seconds) as OpenAIVideoSeconds\n}\n"],"names":[],"mappings":"AA+DO,SAAS,kBACd,OACA,MAC6C;AAC7C,QAAM,aAAqC;AAAA,IACzC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAGF,MAAI,QAAQ,CAAC,WAAW,SAAS,IAAuB,GAAG;AACzD,UAAM,IAAI;AAAA,MACR,SAAS,IAAI,gCAAgC,KAAK,uBAAuB,WAAW,KAAK,IAAI,CAAC;AAAA,IAAA;AAAA,EAElG;AACF;AAQO,SAAS,qBACd,OACA,SAC4D;AAC5D,QAAM,eAA8B,CAAC,KAAK,KAAK,IAAI;AACnD,QAAM,eAA8B,CAAC,GAAG,GAAG,EAAE;AAE7C,MAAI,YAAY,QAAW;AACzB,UAAM,UACJ,OAAO,YAAY,WACf,aAAa,SAAS,OAAO,IAC7B,aAAa,SAAS,OAAO;AAEnC,QAAI,CAAC,SAAS;AACZ,YAAM,IAAI;AAAA,QACR,aAAa,OAAO,gCAAgC,KAAK;AAAA,MAAA;AAAA,IAE7D;AAAA,EACF;AACF;AAMO,SAAS,aACd,SACgC;AAChC,MAAI,YAAY,OAAW,QAAO;AAClC,SAAO,OAAO,OAAO;AACvB;"}