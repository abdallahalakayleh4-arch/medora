<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Medora | Medical Scores</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="module" src="auth-guard.js"></script>

<style>
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:radial-gradient(circle at top,#1c2541,#020617);
  color:#eaeaea;
}

/* HEADER */
header{
  padding:22px 40px;
  background:rgba(28,37,65,.95);
  backdrop-filter:blur(10px);
}

/* WRAPPER */
.wrapper{
  max-width:1000px;
  margin:auto;
  padding:40px;
}

/* SEARCH */
input{
  width:100%;
  padding:16px;
  border-radius:14px;
  border:none;
  background:#020617;
  color:#fff;
  font-size:16px;
  margin-bottom:30px;
}

/* SCORE CARD */
.score{
  background:linear-gradient(180deg,#1c2541,#16203a);
  padding:18px 22px;
  border-radius:16px;
  margin-bottom:14px;
  cursor:pointer;
  border:1px solid rgba(255,255,255,.05);
  transition:.25s;
}
.score:hover{background:#24355c}
.score h3{margin:0}
.score span{font-size:13px;color:#b0bcd6}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  display:none;
  background:rgba(0,0,0,.75);
  align-items:center;
  justify-content:center;
  z-index:999;
}

.modal-box{
  background:#0f172a;
  max-width:800px;
  width:90%;
  max-height:85vh;
  overflow-y:auto;
  padding:30px;
  border-radius:18px;
}

.modal-box h2{margin-top:0}
.modal-box h4{color:#93c5fd;margin-bottom:6px}
.modal-box p,
.modal-box li{color:#e5e7eb;line-height:1.7}

.close{
  margin-top:24px;
  padding:10px 18px;
  border:none;
  border-radius:10px;
  background:#3a86ff;
  color:#fff;
  cursor:pointer;
  font-size:14px;
}
</style>
</head>

<body>

<header>
  <h2>ðŸ§  Medical Scores Library</h2>
</header>

<div class="wrapper">
  <input id="search" placeholder="Search medical score...">
  <div id="list"></div>
</div>

<!-- MODAL -->
<div class="modal" id="modal" onclick="closeModal(event)">
  <div class="modal-box" onclick="event.stopPropagation()">
    <div id="content"></div>
    <button class="close" onclick="closeModal()">Close</button>
  </div>
</div>

<script>
const scores = [
{
name:"APGAR Score",
html:`
<h4>Definition</h4>
<p>Rapid clinical assessment of newborn adaptation immediately after birth.</p>

<h4>Components</h4>
<ul>
<li>Appearance</li>
<li>Pulse</li>
<li>Grimace</li>
<li>Activity</li>
<li>Respiration</li>
</ul>

<h4>Scoring</h4>
<p>Total score 0â€“10 at 1 and 5 minutes.</p>

<h4>Interpretation</h4>
<ul>
<li>7â€“10: Normal</li>
<li>4â€“6: Moderate depression</li>
<li>0â€“3: Severe distress</li>
</ul>

<h4>Exam Pearl</h4>
<p>A low 5-minute APGAR is more prognostically significant.</p>
`
},
{
name:"Glasgow Coma Scale (GCS)",
html:`
<h4>Definition</h4>
<p>Standardized assessment of consciousness using eye, verbal, and motor response.</p>

<h4>Score Range</h4>
<p>3â€“15</p>

<h4>Severity</h4>
<ul>
<li>13â€“15: Mild</li>
<li>9â€“12: Moderate</li>
<li>â‰¤8: Severe coma</li>
</ul>

<h4>Exam Pearl</h4>
<p>GCS â‰¤8 â†’ protect airway.</p>
`
},
{
name:"CHAâ‚‚DSâ‚‚-VASc",
html:`
<h4>Purpose</h4>
<p>Stroke risk stratification in atrial fibrillation.</p>

<h4>Interpretation</h4>
<ul>
<li>0: No anticoagulation</li>
<li>1: Consider anticoagulation</li>
<li>â‰¥2: Anticoagulation indicated</li>
</ul>
`
},
{
name:"HAS-BLED",
html:`
<h4>Purpose</h4>
<p>Assesses bleeding risk in patients with atrial fibrillation.</p>

<h4>Key Point</h4>
<p>Score â‰¥3 indicates high bleeding risk, not a contraindication.</p>
`
},
{
name:"CURB-65",
html:`
<h4>Purpose</h4>
<p>Severity assessment for community-acquired pneumonia.</p>

<h4>Management</h4>
<ul>
<li>0â€“1: Outpatient treatment</li>
<li>2: Hospital admission</li>
<li>â‰¥3: ICU consideration</li>
</ul>
`
},
{
name:"SOFA Score",
html:`
<h4>Purpose</h4>
<p>Quantifies organ dysfunction, especially in sepsis.</p>

<h4>Key Concept</h4>
<p>An increase â‰¥2 points indicates organ failure.</p>
`
},
{
name:"FOUR Score",
html:`
<h4>Definition</h4>
<p>Neurological coma scale suitable for intubated patients.</p>

<h4>Advantage</h4>
<p>No verbal component; better prognostic value in ICU.</p>
`
},
{
name:"Shock Index",
html:`
<h4>Definition</h4>
<p>Hemodynamic marker of circulatory compromise.</p>

<h4>Formula</h4>
<p>Heart Rate / Systolic Blood Pressure</p>

<h4>Interpretation</h4>
<p>â‰¥1 suggests severe shock.</p>
`
}
];

// ELEMENTS
const list = document.getElementById("list");
const search = document.getElementById("search");
const modal = document.getElementById("modal");
const content = document.getElementById("content");

// RENDER
function render(arr){
  list.innerHTML = "";
  arr.forEach(s=>{
    const d = document.createElement("div");
    d.className = "score";
    d.innerHTML = `<h3>${s.name}</h3><span>Click to view details</span>`;
    d.onclick = () => openModal(s);
    list.appendChild(d);
  });
}

function openModal(score){
  content.innerHTML = `<h2>${score.name}</h2>${score.html}`;
  modal.style.display = "flex";
}

function closeModal(){
  modal.style.display = "none";
}

// SEARCH
search.addEventListener("input", e=>{
  const q = e.target.value.toLowerCase();
  render(scores.filter(s => s.name.toLowerCase().includes(q)));
});

render(scores);
</script>

</body>
</html>
