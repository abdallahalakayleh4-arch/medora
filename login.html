<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Medora | Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
:root{
  --bg:#f4f6f9;
  --card:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --primary:#2563eb;
  --border:#e5e7eb;
}

body.dark{
  --bg:#0f172a;
  --card:#111827;
  --text:#f9fafb;
  --muted:#9ca3af;
  --primary:#3b82f6;
  --border:#1f2937;
}

*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:'Inter',sans-serif;
}

body{
  background:var(--bg);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  transition:.3s;
}

.container{
  width:100%;
  max-width:420px;
  padding:20px;
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:20px;
  padding:40px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  transition:.3s;
}

.logo{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  margin-bottom:30px;
}

.logo svg{
  width:34px;
  height:34px;
  fill:var(--primary);
}

.logo span{
  font-size:20px;
  font-weight:600;
  letter-spacing:.5px;
}

h2{
  text-align:center;
  margin-bottom:25px;
  font-weight:500;
}

.input-group{
  margin-bottom:16px;
}

input{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
  font-size:14px;
  transition:.2s;
}

input:focus{
  border-color:var(--primary);
  outline:none;
}

button{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  font-size:14px;
  cursor:pointer;
  transition:.2s;
}

.primary{
  background:var(--primary);
  color:white;
  margin-top:8px;
}

.secondary{
  background:transparent;
  border:1px solid var(--border);
  color:var(--text);
  margin-top:10px;
}

.primary:hover{
  opacity:.9;
}

.secondary:hover{
  background:var(--border);
}

#status{
  margin-top:18px;
  text-align:center;
  font-size:13px;
  color:var(--muted);
}

.toggle-mode{
  position:fixed;
  top:20px;
  right:20px;
  background:var(--card);
  border:1px solid var(--border);
  padding:8px 12px;
  border-radius:8px;
  cursor:pointer;
  font-size:12px;
}
</style>
</head>

<body>

<button class="toggle-mode" onclick="toggleMode()">Toggle Mode</button>

<div class="container">
  <div class="card">

    <div class="logo">
      <!-- Minimal Bird Logo -->
      <svg viewBox="0 0 24 24">
        <path d="M2 12c4-6 8-8 14-8-2 3-2 6 2 8-4 2-4 5-2 8-6 0-10-2-14-8z"/>
      </svg>
      <span>Medora</span>
    </div>

    <h2>Login</h2>

    <div class="input-group">
      <input type="email" id="email" placeholder="Email" required>
    </div>

    <div class="input-group">
      <input type="password" id="password" placeholder="Password" required>
    </div>

    <button class="primary" onclick="login()">Login</button>
    <button class="secondary" onclick="signup()">Create Account</button>
    <button class="secondary" onclick="logout()">Logout</button>

    <p id="status"></p>

  </div>
</div>

<script>
// Dark / Light Mode
function toggleMode(){
  document.body.classList.toggle("dark");
  localStorage.setItem("theme",
    document.body.classList.contains("dark") ? "dark" : "light");
}

if(localStorage.getItem("theme")==="dark"){
  document.body.classList.add("dark");
}

// Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyCRVWEvWa-xOi3NFjP-IdIaCBXNJoEOKqY",
  authDomain: "medora-app-10e70.firebaseapp.com",
  projectId: "medora-app-10e70",
  storageBucket: "medora-app-10e70.appspot.com",
  messagingSenderId: "105310866840",
  appId: "1:105310866840:web:3265227cdd5e8a1555afed"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

auth.onAuthStateChanged(user=>{
  if(user){
    window.location.href="dashboard.html";
  }
});

function login(){
  auth.signInWithEmailAndPassword(
    email.value,
    password.value
  ).then(()=>{
    window.location.href="dashboard.html";
  }).catch(e=>{
    status.innerText=e.message;
  });
}

function signup(){
  auth.createUserWithEmailAndPassword(
    email.value,
    password.value
  ).then(()=>{
    window.location.href="dashboard.html";
  }).catch(e=>{
    status.innerText=e.message;
  });
}

function logout(){
  auth.signOut().then(()=>{
    status.innerText="Logged out";
  });
}
</script>

</body>
</html>
