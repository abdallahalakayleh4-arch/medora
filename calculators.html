<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Medora | Medical Calculators</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg:#020617;
  --panel:#0b132b;
  --card:#111827;
  --primary:#3a86ff;
  --accent:#38bdf8;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --border:rgba(255,255,255,.08);
  --danger:#ef4444;
  --success:#22c55e;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:"Segoe UI",Arial,sans-serif;
  background:radial-gradient(circle at top,#1c2541,#020617);
  color:var(--text);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.app{
  width:520px;
  background:linear-gradient(180deg,#1c2541,#0b132b);
  border-radius:24px;
  padding:32px;
  border:1px solid var(--border);
  box-shadow:0 40px 90px rgba(0,0,0,.6);
}

.header{
  display:flex;
  align-items:center;
  gap:14px;
  margin-bottom:26px;
}

.logo{
  width:46px;
  height:46px;
  border-radius:14px;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
}

.header strong{font-size:22px}
.header span{font-size:12px;color:var(--muted)}

.select-group{
  margin-bottom:22px;
}

select{
  width:100%;
  padding:14px 16px;
  border-radius:14px;
  border:none;
  background:#24355c;
  color:white;
  font-size:14px;
}

.form{
  display:grid;
  grid-template-columns:1fr;
  gap:14px;
  margin-top:10px;
}

.form-group{
  display:flex;
  flex-direction:column;
}

.form-group label{
  font-size:13px;
  margin-bottom:6px;
  color:var(--muted);
}

.form-group input{
  padding:12px 14px;
  border-radius:12px;
  border:none;
  background:#020617;
  color:white;
}

.actions{
  margin-top:24px;
  display:flex;
  gap:12px;
}

.actions button{
  flex:1;
  padding:14px;
  border-radius:14px;
  border:none;
  cursor:pointer;
  font-size:14px;
}

.btn-calc{
  background:linear-gradient(135deg,var(--accent),var(--primary));
  color:#020617;
  font-weight:700;
}

.btn-reset{
  background:transparent;
  border:1px solid var(--border);
  color:var(--muted);
}

.result{
  margin-top:24px;
  padding:18px;
  border-radius:16px;
  background:#020617;
  border:1px solid var(--border);
  display:none;
  font-size:22px;
  text-align:center;
}

.footer{
  margin-top:22px;
  text-align:center;
}

.footer button{
  background:none;
  border:none;
  color:var(--muted);
  cursor:pointer;
}
</style>
</head>

<body>

<div class="app">

  <div class="header">
    <div class="logo">üßÆ</div>
    <div>
      <strong>Medora</strong><br>
      <span>Medical Calculators</span>
    </div>
  </div>

  <!-- Calculator Selector -->
  <div class="select-group">
    <select id="calculatorSelect">
      <option value="">Choose Medical Calculator</option>

      <option value="bmi">BMI</option>
      <option value="bsa">BSA</option>
      <option value="crcl">Creatinine Clearance</option>
      <option value="egfr">eGFR (MDRD)</option>
      <option value="calcium">Corrected Calcium</option>
      <option value="parkland">Parkland Formula</option>
      <option value="aniongap">Anion Gap</option>
      <option value="map">Mean Arterial Pressure</option>
      <option value="sodium">Corrected Sodium</option>
      <option value="osm">Osmolarity</option>
      <option value="ldl">LDL</option>
      <option value="childpugh">Child-Pugh</option>
      <option value="meld">MELD</option>
      <option value="cha2ds2vasc">CHA‚ÇÇDS‚ÇÇ-VASc</option>
      <option value="curb65">CURB-65</option>
      <option value="wells">Wells Score</option>
      <option value="apache">APACHE II</option>
      <option value="nihss">NIHSS</option>
    </select>
  </div>

  <!-- Dynamic Form -->
  <div class="form" id="form"></div>

  <!-- Actions -->
  <div class="actions">
    <button class="btn-reset" id="resetBtn">Reset</button>
    <button class="btn-calc" id="calcBtn">Calculate</button>
  </div>

  <!-- Result -->
  <div class="result" id="result"></div>

  <div class="footer">
    <button onclick="location.href='dashboard.html'">‚Üê Back to Dashboard</button>
  </div>

</div> 
  <script>
/* =====================================================
   MEDORA MEDICAL CALCULATORS ‚Äì CORE ENGINE
   PART 2 / 5
===================================================== */

/* -------------------------
   DOM ELEMENTS
------------------------- */
const selector = document.getElementById("calculatorSelect");
const form = document.getElementById("form");
const resultBox = document.getElementById("result");
const calcBtn = document.getElementById("calcBtn");
const resetBtn = document.getElementById("resetBtn");

/* -------------------------
   STATE
------------------------- */
let currentCalculator = null;

/* -------------------------
   CALCULATOR DEFINITIONS
   (logic only ‚Äì no UI hacks)
------------------------- */
const CALCULATORS = {
  bmi: {
    title: "Body Mass Index",
    fields: [
      { id: "weight", label: "Weight (kg)" },
      { id: "height", label: "Height (cm)" }
    ],
    calculate(d) {
      const h = d.height / 100;
      return (d.weight / (h * h)).toFixed(2);
    }
  },

  bsa: {
    title: "Body Surface Area",
    fields: [
      { id: "weight", label: "Weight (kg)" },
      { id: "height", label: "Height (cm)" }
    ],
    calculate(d) {
      return Math.sqrt((d.height * d.weight) / 3600).toFixed(2);
    }
  },

  parkland: {
    title: "Parkland Formula",
    fields: [
      { id: "weight", label: "Weight (kg)" },
      { id: "tbsa", label: "TBSA Burn (%)" }
    ],
    calculate(d) {
      const total = 4 * d.weight * d.tbsa;
      return `
        Total Fluids: ${total} mL<br>
        First 8h: ${total / 2} mL<br>
        Next 16h: ${total / 2} mL
      `;
    }
  }
};

/* -------------------------
   RENDER FORM
------------------------- */
function renderForm(calcKey) {
  form.innerHTML = "";
  resultBox.style.display = "none";
  resultBox.innerHTML = "";

  const calc = CALCULATORS[calcKey];
  if (!calc) return;

  currentCalculator = calcKey;

  calc.fields.forEach(f => {
    const group = document.createElement("div");
    group.className = "form-group";

    const label = document.createElement("label");
    label.textContent = f.label;

    const input = document.createElement("input");
    input.type = "number";
    input.id = f.id;

    group.appendChild(label);
    group.appendChild(input);
    form.appendChild(group);
  });
}

/* -------------------------
   COLLECT INPUT DATA
------------------------- */
function collectData() {
  const calc = CALCULATORS[currentCalculator];
  if (!calc) return null;

  const data = {};
  for (let f of calc.fields) {
    const el = document.getElementById(f.id);
    if (!el || el.value === "") {
      alert("Please fill all fields");
      return null;
    }
    data[f.id] = Number(el.value);
  }
  return data;
}

/* -------------------------
   EVENTS
------------------------- */
selector.addEventListener("change", () => {
  renderForm(selector.value);
});

calcBtn.addEventListener("click", () => {
  if (!currentCalculator) {
    alert("Please select a calculator");
    return;
  }

  const data = collectData();
  if (!data) return;

  const output = CALCULATORS[currentCalculator].calculate(data);
  resultBox.innerHTML = `<b>Result:</b><br>${output}`;
  resultBox.style.display = "block";
});

resetBtn.addEventListener("click", () => {
  form.innerHTML = "";
  resultBox.style.display = "none";
  selector.value = "";
  currentCalculator = null;
});
</script>
<script>
/* =====================================================
   MEDICAL CALCULATORS ‚Äì PART 3 / 5
   Clinical & Laboratory Calculations
===================================================== */

/* =====================================================
   Creatinine Clearance (Cockcroft‚ÄìGault)
===================================================== */
CALCULATORS.crcl = {
  title: "Creatinine Clearance (Cockcroft‚ÄìGault)",
  fields: [
    { id: "age", label: "Age (years)" },
    { id: "weight", label: "Weight (kg)" },
    { id: "scr", label: "Serum Creatinine (mg/dL)" },
    { id: "sex", label: "Sex (1 = Male, 0.85 = Female)" }
  ],
  calculate(d) {
    let crcl = ((140 - d.age) * d.weight) / (72 * d.scr);
    if (d.sex < 1) crcl *= 0.85;
    return crcl.toFixed(1) + " mL/min";
  }
};

/* =====================================================
   eGFR (MDRD)
===================================================== */
CALCULATORS.egfr = {
  title: "eGFR (MDRD)",
  fields: [
    { id: "age", label: "Age (years)" },
    { id: "scr", label: "Serum Creatinine (mg/dL)" },
    { id: "female", label: "Female? (1 = Yes, 0 = No)" }
  ],
  calculate(d) {
    let gfr =
      175 *
      Math.pow(d.scr, -1.154) *
      Math.pow(d.age, -0.203);
    if (d.female === 1) gfr *= 0.742;
    return gfr.toFixed(1) + " mL/min/1.73m¬≤";
  }
};

/* =====================================================
   Corrected Calcium
===================================================== */
CALCULATORS.calcium = {
  title: "Corrected Calcium",
  fields: [
    { id: "calcium", label: "Measured Calcium (mg/dL)" },
    { id: "albumin", label: "Albumin (g/dL)" }
  ],
  calculate(d) {
    const corrected = d.calcium + 0.8 * (4 - d.albumin);
    return corrected.toFixed(2) + " mg/dL";
  }
};

/* =====================================================
   Anion Gap
===================================================== */
CALCULATORS.aniongap = {
  title: "Anion Gap",
  fields: [
    { id: "na", label: "Sodium Na‚Å∫ (mEq/L)" },
    { id: "cl", label: "Chloride Cl‚Åª (mEq/L)" },
    { id: "hco3", label: "Bicarbonate HCO‚ÇÉ‚Åª (mEq/L)" }
  ],
  calculate(d) {
    const ag = d.na - (d.cl + d.hco3);
    return ag + " mEq/L";
  }
};

/* =====================================================
   Mean Arterial Pressure (MAP)
===================================================== */
CALCULATORS.map = {
  title: "Mean Arterial Pressure (MAP)",
  fields: [
    { id: "sbp", label: "Systolic BP (mmHg)" },
    { id: "dbp", label: "Diastolic BP (mmHg)" }
  ],
  calculate(d) {
    const map = (d.sbp + 2 * d.dbp) / 3;
    return map.toFixed(1) + " mmHg";
  }
};
</script>
<script>
/* =====================================================
   MEDICAL CALCULATORS ‚Äì PART 4 / 5
   Advanced & Liver Calculations
===================================================== */

/* =====================================================
   Corrected Sodium (Hyperglycemia)
===================================================== */
CALCULATORS.sodium = {
  title: "Corrected Sodium (Hyperglycemia)",
  fields: [
    { id: "na", label: "Measured Sodium (mEq/L)" },
    { id: "glucose", label: "Glucose (mg/dL)" }
  ],
  calculate(d) {
    const corrected = d.na + 0.016 * (d.glucose - 100);
    return corrected.toFixed(2) + " mEq/L";
  }
};

/* =====================================================
   Serum Osmolarity
===================================================== */
CALCULATORS.osm = {
  title: "Serum Osmolarity",
  fields: [
    { id: "na", label: "Sodium (mEq/L)" },
    { id: "glucose", label: "Glucose (mg/dL)" },
    { id: "bun", label: "BUN (mg/dL)" }
  ],
  calculate(d) {
    const osm = 2 * d.na + d.glucose / 18 + d.bun / 2.8;
    return osm.toFixed(1) + " mOsm/kg";
  }
};

/* =====================================================
   LDL Cholesterol (Friedewald)
===================================================== */
CALCULATORS.ldl = {
  title: "LDL Cholesterol (Friedewald)",
  fields: [
    { id: "tc", label: "Total Cholesterol (mg/dL)" },
    { id: "hdl", label: "HDL (mg/dL)" },
    { id: "tg", label: "Triglycerides (mg/dL)" }
  ],
  calculate(d) {
    if (d.tg >= 400) {
      return "Invalid: TG must be < 400 mg/dL";
    }
    const ldl = d.tc - d.hdl - d.tg / 5;
    return ldl.toFixed(1) + " mg/dL";
  }
};

/* =====================================================
   Child‚ÄìPugh Score
===================================================== */
CALCULATORS.childpugh = {
  title: "Child‚ÄìPugh Score",
  fields: [
    { id: "bilirubin", label: "Bilirubin (mg/dL)" },
    { id: "albumin", label: "Albumin (g/dL)" },
    { id: "inr", label: "INR" },
    { id: "ascites", label: "Ascites (1=None, 2=Mild, 3=Severe)" },
    { id: "enceph", label: "Encephalopathy (1=None, 2=I‚ÄìII, 3=III‚ÄìIV)" }
  ],
  calculate(d) {
    let score = 0;

    score += d.bilirubin < 2 ? 1 : d.bilirubin <= 3 ? 2 : 3;
    score += d.albumin > 3.5 ? 1 : d.albumin >= 2.8 ? 2 : 3;
    score += d.inr < 1.7 ? 1 : d.inr <= 2.3 ? 2 : 3;
    score += Number(d.ascites);
    score += Number(d.enceph);

    let cls =
      score <= 6 ? "Class A" :
      score <= 9 ? "Class B" :
      "Class C";

    return `Score: ${score} (${cls})`;
  }
};

/* =====================================================
   MELD Score (Simplified)
===================================================== */
CALCULATORS.meld = {
  title: "MELD Score",
  fields: [
    { id: "bilirubin", label: "Bilirubin (mg/dL)" },
    { id: "inr", label: "INR" },
    { id: "creatinine", label: "Creatinine (mg/dL)" }
  ],
  calculate(d) {
    const meld =
      3.78 * Math.log(d.bilirubin) +
      11.2 * Math.log(d.inr) +
      9.57 * Math.log(d.creatinine) +
      6.43;

    return "MELD Score: " + Math.round(meld);
  }
};
</script>
<script>
/* =====================================================
   MEDICAL CALCULATORS ‚Äì PART 5 / 5
   Clinical Scores & ICU / Neuro
===================================================== */

/* =====================================================
   CHA‚ÇÇDS‚ÇÇ-VASc Score
===================================================== */
CALCULATORS.cha2ds2vasc = {
  title: "CHA‚ÇÇDS‚ÇÇ-VASc Score",
  fields: [
    { id: "congestive", label: "Congestive HF (1=yes,0=no)" },
    { id: "htn", label: "Hypertension (1=yes,0=no)" },
    { id: "age75", label: "Age ‚â•75 (2=yes,0=no)" },
    { id: "dm", label: "Diabetes (1=yes,0=no)" },
    { id: "stroke", label: "Stroke/TIA (2=yes,0=no)" },
    { id: "vascular", label: "Vascular disease (1=yes,0=no)" },
    { id: "age65", label: "Age 65‚Äì74 (1=yes,0=no)" },
    { id: "sex", label: "Female sex (1=yes,0=no)" }
  ],
  calculate(d) {
    const score =
      d.congestive +
      d.htn +
      d.age75 +
      d.dm +
      d.stroke +
      d.vascular +
      d.age65 +
      d.sex;

    return `CHA‚ÇÇDS‚ÇÇ-VASc Score: ${score}`;
  }
};

/* =====================================================
   CURB-65
===================================================== */
CALCULATORS.curb65 = {
  title: "CURB-65 Score",
  fields: [
    { id: "confusion", label: "Confusion (1=yes,0=no)" },
    { id: "urea", label: "Urea >7 mmol/L (1=yes,0=no)" },
    { id: "rr", label: "RR ‚â•30 (1=yes,0=no)" },
    { id: "bp", label: "Low BP (1=yes,0=no)" },
    { id: "age", label: "Age ‚â•65 (1=yes,0=no)" }
  ],
  calculate(d) {
    const score =
      d.confusion +
      d.urea +
      d.rr +
      d.bp +
      d.age;

    let risk =
      score <= 1 ? "Low risk" :
      score === 2 ? "Moderate risk" :
      "High risk";

    return `CURB-65 Score: ${score}<br>${risk}`;
  }
};

/* =====================================================
   Wells Score (DVT / PE)
===================================================== */
CALCULATORS.wells = {
  title: "Wells Score (DVT / PE)",
  fields: [
    { id: "cancer", label: "Active cancer (1=yes,0=no)" },
    { id: "paralysis", label: "Paralysis/immobilization (1=yes,0=no)" },
    { id: "tenderness", label: "Localized tenderness (1=yes,0=no)" },
    { id: "swelling", label: "Leg swelling (1=yes,0=no)" },
    { id: "collateral", label: "Collateral veins (1=yes,0=no)" },
    { id: "alternative", label: "Alternative diagnosis (‚àí2=yes,0=no)" }
  ],
  calculate(d) {
    let score =
      d.cancer +
      d.paralysis +
      d.tenderness +
      d.swelling +
      d.collateral;

    if (d.alternative === 1) score -= 2;

    let prob =
      score < 2 ? "Low probability" :
      score <= 6 ? "Moderate probability" :
      "High probability";

    return `Wells Score: ${score}<br>${prob}`;
  }
};

/* =====================================================
   APACHE II (Simplified)
===================================================== */
CALCULATORS.apache = {
  title: "APACHE II (Simplified)",
  fields: [
    { id: "aps", label: "Acute Physiology Score" },
    { id: "age", label: "Age Points" },
    { id: "chronic", label: "Chronic Health Points" }
  ],
  calculate(d) {
    const total = d.aps + d.age + d.chronic;
    return `APACHE II Score: ${total}`;
  }
};

/* =====================================================
   NIH Stroke Scale (NIHSS ‚Äì Simplified)
===================================================== */
CALCULATORS.nihss = {
  title: "NIH Stroke Scale (NIHSS)",
  fields: [
    { id: "loc", label: "Level of consciousness" },
    { id: "motor", label: "Motor function" },
    { id: "sensory", label: "Sensory" },
    { id: "language", label: "Language" },
    { id: "visual", label: "Visual fields" }
  ],
  calculate(d) {
    const score =
      d.loc +
      d.motor +
      d.sensory +
      d.language +
      d.visual;

    let severity =
      score <= 4 ? "Minor stroke" :
      score <= 15 ? "Moderate stroke" :
      score <= 20 ? "Moderate‚Äìsevere stroke" :
      "Severe stroke";

    return `NIHSS Score: ${score}<br>${severity}`;
  }
};
</script>

