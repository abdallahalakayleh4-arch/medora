import{r as l,j as t}from"./main-Xsqn2ASm.js";import{A as p}from"./AppShell-C0zZDZLm.js";import"./use-medora-theme-v8xiVfAV.js";let o=null;async function f(){if(o)return o;const a=await fetch("/book_structured.json");if(!a.ok)throw new Error("Failed to load knowledge database");return o=await a.json(),o}function w(a,c){const s=c.toLowerCase();for(const e of a)if(e.content.toLowerCase().includes(s))return e;return null}function x(){const[a,c]=l.useState(""),[s,e]=l.useState(null),[u,r]=l.useState("Type at least 3 letters."),h=async n=>{c(n);const i=n.trim();if(i.length<3){e(null),r("Type at least 3 letters.");return}try{r("Searching database...");const m=await f(),d=w(m.chapters,i);if(!d){e(null),r("No article found.");return}e(d),r("Match found.")}catch{e(null),r("Failed to search database.")}};return t.jsxs(p,{title:"Clinical Search",subtitle:"Search the structured Medora knowledge database by disease, symptom, or treatment.",children:[t.jsxs("section",{className:"medora-card",children:[t.jsx("input",{className:"medora-input",value:a,onChange:n=>h(n.target.value),placeholder:"Search diseases, symptoms, or treatments"}),t.jsx("p",{className:"medora-status",style:{marginTop:10},children:u})]}),s&&t.jsxs("section",{className:"medora-card",style:{marginTop:16},children:[t.jsxs("h3",{children:["Chapter ",s.chapter]}),t.jsx("pre",{style:{whiteSpace:"pre-wrap",margin:0},children:s.content})]})]})}export{x as component};
