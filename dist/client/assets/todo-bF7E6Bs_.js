import{r as a,g,j as e}from"./main-Xsqn2ASm.js";import{A as N}from"./AppShell-C0zZDZLm.js";import{s as v,t as y,d as b,c as T}from"./firestore-BKcooDLM.js";import"./use-medora-theme-v8xiVfAV.js";function A(){const[t,m]=a.useState([]),[r,l]=a.useState(""),[o,u]=a.useState("routine"),[h,p]=a.useState("Ready"),[i,x]=a.useState("");a.useEffect(()=>{let s;return g().then(n=>{n&&(x(n.uid),s=v(n.uid,m))}),()=>{s&&s()}},[]);const d=async()=>{!r.trim()||!i||(await T(i,{text:r.trim(),priority:o}),l(""),p("Task added"))},c=a.useMemo(()=>t.filter(s=>s.completed).length,[t]),j=t.length===0?0:Math.round(c/t.length*100);return e.jsx(N,{title:"Clinical Task Manager",subtitle:"Track urgent and routine clinical objectives with realtime sync.",children:e.jsxs("div",{className:"medora-grid medora-grid-2",children:[e.jsxs("section",{className:"medora-card",children:[e.jsx("h3",{children:"Add Task"}),e.jsxs("div",{className:"medora-inline",children:[e.jsx("input",{className:"medora-input",value:r,onChange:s=>l(s.target.value),placeholder:"Task",onKeyDown:s=>{s.key==="Enter"&&d()}}),e.jsxs("select",{className:"medora-select",value:o,onChange:s=>u(s.target.value),children:[e.jsx("option",{value:"emergency",children:"Emergency"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"routine",children:"Routine"})]}),e.jsx("button",{className:"medora-btn medora-btn-primary",onClick:d,children:"Add"})]}),e.jsx("ul",{className:"medora-list",style:{marginTop:14},children:t.length===0?e.jsx("li",{className:"medora-list-item",children:"No tasks."}):t.map(s=>e.jsxs("li",{className:`medora-list-item priority-${s.priority} ${s.completed?"done":""}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"todo-text",children:s.text}),e.jsxs("div",{className:"todo-meta",children:[s.priority.toUpperCase()," |"," ",s.timestamp?s.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Just now"]})]}),e.jsxs("div",{className:"medora-inline",children:[e.jsx("button",{className:"medora-btn medora-btn-secondary",onClick:()=>y(i,s.id,!s.completed),children:"✓"}),e.jsx("button",{className:"medora-btn medora-btn-danger",onClick:()=>b(i,s.id),children:"✕"})]})]},s.id))})]}),e.jsxs("aside",{className:"medora-card",children:[e.jsx("h3",{children:"Completion"}),e.jsxs("div",{className:"medora-progress",children:[j,"%"]}),e.jsxs("p",{children:[c," of ",t.length," clinical objectives met."]}),e.jsx("p",{className:"medora-status",children:h})]})]})})}export{A as component};
