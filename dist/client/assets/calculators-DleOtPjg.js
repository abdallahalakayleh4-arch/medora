import{r as c,j as t}from"./main-Xsqn2ASm.js";import{A as g}from"./AppShell-C0zZDZLm.js";import"./use-medora-theme-v8xiVfAV.js";const u=[{id:"bmi",title:"Body Mass Index (BMI)",inputs:[{id:"w",label:"Weight (kg)",type:"number"},{id:"h",label:"Height (cm)",type:"number"}],logic:e=>{const l=e.h/100,i=e.w/(l*l),n=i<18.5?"Underweight":i<25?"Normal":i<30?"Overweight":"Obese";return`${i.toFixed(2)} kg/m² | ${n}`}},{id:"bsa",title:"Body Surface Area (Mosteller)",inputs:[{id:"w",label:"Weight (kg)",type:"number"},{id:"h",label:"Height (cm)",type:"number"}],logic:e=>`${Math.sqrt(e.w*e.h/3600).toFixed(2)} m²`},{id:"map",title:"Mean Arterial Pressure (MAP)",inputs:[{id:"sbp",label:"Systolic BP (mmHg)",type:"number"},{id:"dbp",label:"Diastolic BP (mmHg)",type:"number"}],logic:e=>`${((e.sbp+2*e.dbp)/3).toFixed(1)} mmHg`},{id:"crcl",title:"Creatinine Clearance (Cockcroft-Gault)",inputs:[{id:"age",label:"Age (years)",type:"number"},{id:"w",label:"Weight (kg)",type:"number"},{id:"cr",label:"Serum Creatinine (mg/dL)",type:"number"},{id:"g",label:"Gender (1=Male, 0=Female)",type:"number"}],logic:e=>{let l=(140-e.age)*e.w/(72*e.cr);return e.g===0&&(l*=.85),`${l.toFixed(1)} mL/min`}},{id:"egfr",title:"eGFR (MDRD)",inputs:[{id:"age",label:"Age (years)",type:"number"},{id:"cr",label:"Serum Creatinine (mg/dL)",type:"number"},{id:"g",label:"Gender (1=Male, 0=Female)",type:"number"},{id:"aa",label:"African American? (1=Yes, 0=No)",type:"number"}],logic:e=>{let l=175*Math.pow(e.cr,-1.154)*Math.pow(e.age,-.203);return e.g===0&&(l*=.742),e.aa===1&&(l*=1.212),`${l.toFixed(1)} mL/min/1.73m²`}},{id:"aniongap",title:"Anion Gap",inputs:[{id:"na",label:"Sodium (Na+)",type:"number"},{id:"cl",label:"Chloride (Cl-)",type:"number"},{id:"hco3",label:"Bicarbonate (HCO3-)",type:"number"}],logic:e=>`${(e.na-(e.cl+e.hco3)).toFixed(1)} mEq/L`},{id:"osm",title:"Serum Osmolarity",inputs:[{id:"na",label:"Sodium (mEq/L)",type:"number"},{id:"glu",label:"Glucose (mg/dL)",type:"number"},{id:"bun",label:"BUN (mg/dL)",type:"number"}],logic:e=>`${(2*e.na+e.glu/18+e.bun/2.8).toFixed(1)} mOsm/kg`},{id:"sodium",title:"Corrected Sodium",inputs:[{id:"na",label:"Measured Sodium (mEq/L)",type:"number"},{id:"glu",label:"Serum Glucose (mg/dL)",type:"number"}],logic:e=>`${(e.na+.016*(e.glu-100)).toFixed(1)} mEq/L`},{id:"calcium",title:"Corrected Calcium",inputs:[{id:"ca",label:"Measured Calcium (mg/dL)",type:"number"},{id:"alb",label:"Serum Albumin (g/dL)",type:"number"}],logic:e=>`${(e.ca+.8*(4-e.alb)).toFixed(2)} mg/dL`},{id:"parkland",title:"Parkland Formula",inputs:[{id:"w",label:"Weight (kg)",type:"number"},{id:"tbsa",label:"TBSA Burned (%)",type:"number"}],logic:e=>{const l=4*e.w*e.tbsa;return`${l.toFixed(0)} mL total | 8h: ${(l/2).toFixed(0)} mL | 16h: ${(l/2).toFixed(0)} mL`}},{id:"wells",title:"Wells Score (DVT)",inputs:[{id:"ca",label:"Active Cancer (+1)",type:"number"},{id:"par",label:"Paralysis/Immobilization (+1)",type:"number"},{id:"bed",label:"Bedridden >3d / Major Surg (+1)",type:"number"},{id:"ten",label:"Tenderness along veins (+1)",type:"number"},{id:"swell",label:"Entire leg swollen (+1)",type:"number"},{id:"calf",label:"Calf swelling >3cm (+1)",type:"number"},{id:"pit",label:"Pitting edema (+1)",type:"number"},{id:"coll",label:"Collateral veins (+1)",type:"number"},{id:"alt",label:"Alternative diagnosis likely (-2)",type:"number"}],logic:e=>{let l=e.ca+e.par+e.bed+e.ten+e.swell+e.calf+e.pit+e.coll;e.alt===1&&(l-=2);const i=l<=0?"Low":l<=2?"Moderate":"High";return`Score ${l} | ${i} probability`}},{id:"cha2ds2vasc",title:"CHA2DS2-VASc",inputs:[{id:"c",label:"CHF (+1)",type:"number"},{id:"h",label:"Hypertension (+1)",type:"number"},{id:"a2",label:"Age ≥ 75 (+2)",type:"number"},{id:"d",label:"Diabetes (+1)",type:"number"},{id:"s2",label:"Stroke/TIA (+2)",type:"number"},{id:"v",label:"Vascular Disease (+1)",type:"number"},{id:"a",label:"Age 65-74 (+1)",type:"number"},{id:"sc",label:"Sex Category Female (+1)",type:"number"}],logic:e=>`Score ${(e.c+e.h+e.a2*2+e.d+e.s2*2+e.v+e.a+e.sc).toFixed(0)} | Stroke risk rises with score`},{id:"childpugh",title:"Child-Pugh",inputs:[{id:"bil",label:"Bilirubin (mg/dL)",type:"number"},{id:"alb",label:"Albumin (g/dL)",type:"number"},{id:"inr",label:"INR",type:"number"},{id:"asc",label:"Ascites (1,2,3)",type:"number"},{id:"enc",label:"Encephalopathy (1,2,3)",type:"number"}],logic:e=>{let l=0;l+=e.bil<2?1:e.bil<=3?2:3,l+=e.alb>3.5?1:e.alb>=2.8?2:3,l+=e.inr<1.7?1:e.inr<=2.3?2:3,l+=e.asc+e.enc;const i=l<=6?"A":l<=9?"B":"C";return`Score ${l} | Class ${i}`}},{id:"meld",title:"MELD",inputs:[{id:"bil",label:"Bilirubin (mg/dL)",type:"number"},{id:"inr",label:"INR",type:"number"},{id:"cr",label:"Creatinine (mg/dL)",type:"number"}],logic:e=>{const l=e.bil<1?1:e.bil,i=e.inr<1?1:e.inr,n=e.cr<1?1:e.cr,o=3.78*Math.log(l)+11.2*Math.log(i)+9.57*Math.log(n)+6.43;return`${Math.round(o)}`}},{id:"ldl",title:"LDL (Friedewald)",inputs:[{id:"tc",label:"Total Cholesterol (mg/dL)",type:"number"},{id:"hdl",label:"HDL (mg/dL)",type:"number"},{id:"tg",label:"Triglycerides (mg/dL)",type:"number"}],logic:e=>e.tg>=400?"Invalid (Triglycerides >= 400 mg/dL)":`${(e.tc-e.hdl-e.tg/5).toFixed(1)} mg/dL`},{id:"curb65",title:"CURB-65",inputs:[{id:"c",label:"Confusion",type:"number"},{id:"u",label:"Urea > 7 mmol/L",type:"number"},{id:"r",label:"Respiratory rate >= 30",type:"number"},{id:"b",label:"BP < 90/60",type:"number"},{id:"a",label:"Age >= 65",type:"number"}],logic:e=>{const l=e.c+e.u+e.r+e.b+e.a,i=l<=1?"Low":l===2?"Moderate":"High";return`Score ${l} | ${i} risk`}},{id:"apache",title:"APACHE II (Simplified)",inputs:[{id:"aps",label:"Acute Physiology Score",type:"number"},{id:"age",label:"Age points",type:"number"},{id:"chr",label:"Chronic health points",type:"number"}],logic:e=>`${(e.aps+e.age+e.chr).toFixed(0)}`},{id:"nihss",title:"NIHSS (Simplified)",inputs:[{id:"loc",label:"LOC",type:"number"},{id:"gaze",label:"Gaze",type:"number"},{id:"vis",label:"Visual",type:"number"},{id:"face",label:"Facial palsy",type:"number"},{id:"mot",label:"Motor arms/legs sum",type:"number"},{id:"atax",label:"Ataxia",type:"number"},{id:"sens",label:"Sensory",type:"number"},{id:"lang",label:"Language",type:"number"},{id:"dys",label:"Dysarthria",type:"number"},{id:"ext",label:"Extinction/inattention",type:"number"}],logic:e=>{const l=e.loc+e.gaze+e.vis+e.face+e.mot+e.atax+e.sens+e.lang+e.dys+e.ext,i=l<5?"Minor":l<16?"Moderate":l<21?"Moderate-Severe":"Severe";return`Score ${l} | ${i}`}}];function C(){const[e,l]=c.useState(""),[i,n]=c.useState({}),[o,a]=c.useState(""),b=c.useMemo(()=>u.find(r=>r.id===e),[e]),d=()=>{if(!b)return;const r={};for(const m of b.inputs){const s=i[m.id];if(s==null||s.trim()===""){window.alert("Please fill all required fields.");return}r[m.id]=Number(s)}try{a(b.logic(r))}catch{a("Calculation error.")}},p=()=>{l(""),n({}),a("")};return t.jsx(g,{title:"Medical Calculators",subtitle:"Clinical equations and scores migrated from the legacy calculator suite.",children:t.jsxs("section",{className:"medora-card",style:{maxWidth:760,margin:"0 auto"},children:[t.jsxs("select",{className:"medora-select",value:e,onChange:r=>{l(r.target.value),n({}),a("")},children:[t.jsx("option",{value:"",children:"Select a calculator"}),u.map(r=>t.jsx("option",{value:r.id,children:r.title},r.id))]}),t.jsx("div",{className:"medora-grid",style:{marginTop:16},children:b?.inputs.map(r=>t.jsxs("label",{className:"medora-kv",children:[t.jsx("b",{children:r.label}),t.jsx("input",{type:"number",className:"medora-input",placeholder:r.placeholder,value:i[r.id]??"",onChange:m=>n(s=>({...s,[r.id]:m.target.value}))})]},r.id))}),t.jsxs("div",{className:"medora-inline",style:{marginTop:16},children:[t.jsx("button",{className:"medora-btn medora-btn-secondary",onClick:p,children:"Reset"}),t.jsx("button",{className:"medora-btn medora-btn-primary",onClick:d,children:"Calculate"})]}),o&&t.jsxs("div",{className:"medora-card",style:{marginTop:16},children:[t.jsx("h4",{children:"Result"}),t.jsx("p",{className:"medora-code",children:o})]})]})})}export{C as component};
